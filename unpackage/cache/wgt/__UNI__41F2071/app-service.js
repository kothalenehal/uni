(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"0de9":function(e,t,i){"use strict";function n(e){var t=Object.prototype.toString.call(e);return t.substring(8,t.length-1)}function s(){return"string"===typeof __channelId__&&__channelId__}function o(e,t){switch(n(t)){case"Function":return"function() { [native code] }";default:return t}}function a(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];console[e].apply(console,i)}function r(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=t.shift();if(s())return t.push(t.pop().replace("at ","uni-app:///")),console[a].apply(console,t);var r=t.map((function(e){var t=Object.prototype.toString.call(e).toLowerCase();if("[object object]"===t||"[object array]"===t)try{e="---BEGIN:JSON---"+JSON.stringify(e,o)+"---END:JSON---"}catch(s){e=t}else if(null===e)e="---NULL---";else if(void 0===e)e="---UNDEFINED---";else{var i=n(e).toUpperCase();e="NUMBER"===i||"BOOLEAN"===i?"---BEGIN:"+i+"---"+e+"---END:"+i+"---":String(e)}return e})),c="";if(r.length>1){var u=r.pop();c=r.join("---COMMA---"),0===u.indexOf(" at ")?c+=u:c+="---COMMA---"+u}else c=r[0];console[a](c)}i.r(t),i.d(t,"log",(function(){return a})),i.d(t,"default",(function(){return r}))},"0ea9":function(e,t,i){var n=i("7037");uni.addInterceptor({returnValue:function(e){return!e||"object"!==n(e)&&"function"!==typeof e||"function"!==typeof e.then?e:new Promise((function(t,i){e.then((function(e){return e[0]?i(e[0]):t(e[1])}))}))}})},"1c62":function(e,t,i){"use strict";i.r(t);var n=i("4753");for(var s in n)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(s);var o=i("f0c5"),a=Object(o["a"])(n["default"],void 0,void 0,!1,null,null,null,!1,void 0,void 0);t["default"]=a.exports},4208:function(e,t,i){"use strict";i.r(t);var n=i("5fbf"),s=i("8be5");for(var o in s)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(o);var a=i("f0c5"),r=Object(a["a"])(s["default"],n["b"],n["c"],!1,null,"6c4872bc",null,!1,n["a"],void 0);t["default"]=r.exports},4753:function(e,t,i){"use strict";i.r(t);var n=i("8c42"),s=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=s.a},"4ea4":function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"56a9":function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}));var n={ppSlider:i("4208").default},s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","content"),attrs:{_i:0},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault()}}},[e._$s(1,"i",e.isShowVideo)?i("view",[i("video",{staticClass:e._$s(2,"sc","myvideo"),attrs:{_i:2}})]):e._e(),e._$s(3,"i",!e.isShowVideo)?i("view",{staticClass:e._$s(3,"sc","myContent"),attrs:{_i:3},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault()}}},[i("image",{staticClass:e._$s(4,"sc","logo"),attrs:{_i:4}}),i("view",{staticClass:e._$s(5,"sc","line1"),attrs:{_i:5}}),e._$s(6,"i",e.isShowSlider&&e.connected&&e.victroyConnected&&!e.maskShow)?i("view",{staticClass:e._$s(6,"sc","ppContent"),attrs:{_i:6}},[i("pp-slider",{attrs:{min:0,max:100,"background-color":"#1a9ed6","active-color":"#d0d6e8",vertical:!0,value:e.slideValue,"show-value":!1,"block-size":35,"line-size":20,disabled:!1,_i:7},on:{changing:e.changing}})],1):e._e(),e._$s(8,"i",e.connected&&e.victroyConnected)?i("view",{staticClass:e._$s(8,"sc","buttonsView"),attrs:{_i:8}},[e._$s(9,"i",!e.isComputeOldType)?i("view",{staticClass:e._$s(9,"sc","openButtonView"),attrs:{_i:9}},[e._$s(10,"i",!e.isOpenBtnLight)?i("image",{staticClass:e._$s(10,"sc","myButton"),attrs:{_i:10},on:{click:function(t){return e.writeBluetoothWithId("1")}}}):e._e(),e._$s(11,"i",e.isOpenBtnLight)?i("image",{staticClass:e._$s(11,"sc","myButton"),attrs:{_i:11},on:{click:function(t){return e.writeBluetoothWithId("1")}}}):e._e()]):e._e(),e._$s(12,"i",!e.isComputeOldType)?i("view",{staticClass:e._$s(12,"sc","openButtonView"),attrs:{_i:12}},[e._$s(13,"i",!e.isLightBtnLight)?i("image",{staticClass:e._$s(13,"sc","myButton"),attrs:{_i:13},on:{click:function(t){return e.writeBluetoothWithId("2")}}}):e._e(),e._$s(14,"i",e.isLightBtnLight)?i("image",{staticClass:e._$s(14,"sc","myButton"),attrs:{_i:14},on:{click:function(t){return e.writeBluetoothWithId("2")}}}):e._e()]):e._e(),e._$s(15,"i",e.isComputeOldType)?i("view",{staticClass:e._$s(15,"sc","openButtonView"),attrs:{_i:15}},[e._$s(16,"i",!e.isOpenBtnLight)?i("image",{staticClass:e._$s(16,"sc","myButton"),attrs:{_i:16},on:{click:function(t){return e.writeBluetoothWithId("1")}}}):e._e(),e._$s(17,"i",e.isOpenBtnLight)?i("image",{staticClass:e._$s(17,"sc","myButton"),attrs:{_i:17},on:{click:function(t){return e.writeBluetoothWithId("1")}}}):e._e()]):e._e(),i("view",{staticClass:e._$s(18,"sc","openButtonView"),attrs:{_i:18}},[e._$s(19,"i",!e.isWind1BtnLight)?i("image",{staticClass:e._$s(19,"sc","myButton"),attrs:{_i:19},on:{click:function(t){return e.writeBluetoothWithId("3")}}}):e._e(),e._$s(20,"i",e.isWind1BtnLight)?i("image",{staticClass:e._$s(20,"sc","myButton"),attrs:{_i:20},on:{click:function(t){return e.writeBluetoothWithId("3")}}}):e._e()]),i("view",{staticClass:e._$s(21,"sc","openButtonView"),attrs:{_i:21}},[e._$s(22,"i",!e.isWind2BtnLight)?i("image",{staticClass:e._$s(22,"sc","myButton"),attrs:{_i:22},on:{click:function(t){return e.writeBluetoothWithId("4")}}}):e._e(),e._$s(23,"i",e.isWind2BtnLight)?i("image",{staticClass:e._$s(23,"sc","myButton"),attrs:{_i:23},on:{click:function(t){return e.writeBluetoothWithId("4")}}}):e._e()]),i("view",{staticClass:e._$s(24,"sc","openButtonView"),attrs:{_i:24}},[e._$s(25,"i",!e.isWind3BtnLight)?i("image",{staticClass:e._$s(25,"sc","myButton"),attrs:{_i:25},on:{click:function(t){return e.writeBluetoothWithId("5")}}}):e._e(),e._$s(26,"i",e.isWind3BtnLight)?i("image",{staticClass:e._$s(26,"sc","myButton"),attrs:{_i:26},on:{click:function(t){return e.writeBluetoothWithId("5")}}}):e._e()]),i("view",{staticClass:e._$s(27,"sc","openButtonView"),attrs:{_i:27}},[e._$s(28,"i",!e.isWind4BtnLight)?i("image",{staticClass:e._$s(28,"sc","myButton"),attrs:{_i:28},on:{click:function(t){return e.writeBluetoothWithId("6")}}}):e._e(),e._$s(29,"i",e.isWind4BtnLight)?i("image",{staticClass:e._$s(29,"sc","myButton"),attrs:{_i:29},on:{click:function(t){return e.writeBluetoothWithId("6")}}}):e._e()])]):e._e(),e._$s(30,"i",e.connected)?i("image",{staticClass:e._$s(30,"sc","connectBtn"),attrs:{_i:30},on:{click:e.connectBtnAction}}):e._e(),e._$s(31,"i",!e.connected)?i("image",{staticClass:e._$s(31,"sc","connectBtn"),attrs:{_i:31},on:{click:e.connectBtnAction}}):e._e(),i("view",{staticClass:e._$s(32,"sc","line2"),attrs:{_i:32}})]):e._e(),e._$s(33,"i",e.maskShow)?i("view",{staticClass:e._$s(33,"sc","uni-mask"),attrs:{_i:33},on:{touchmove:function(t){return t.stopPropagation(),t.preventDefault(),e.moveHandle(t)},click:e.maskclose}},[i("scroll-view",{staticClass:e._$s(34,"sc","uni-scroll_box"),attrs:{_i:34},on:{touchmove:function(t){return t.stopPropagation(),t.preventDefault(),e.moveHandle(t)},click:function(t){return t.stopPropagation(),e.moveHandle(t)}}},[i("view",{staticClass:e._$s(35,"sc","uni-title"),attrs:{_i:35}},[e._v(e._$s(35,"t0-0",e._s(e.list.length))+e._$s(35,"t0-1",e._s(" devices have been discovered")))]),e._l(e._$s(36,"f",{forItems:e.list}),(function(t,n,s,o){return i("view",{key:e._$s(36,"f",{forIndex:s,key:n}),staticClass:e._$s("36-"+o,"sc","uni-list-box"),attrs:{_i:"36-"+o},on:{click:function(i){return e.tapQuery(t)}}},[i("view",[i("view",{staticClass:e._$s("38-"+o,"sc","uni-list_name"),attrs:{_i:"38-"+o}},[e._v(e._$s("38-"+o,"t0-0",e._s(t.name||t.localName)))])])])}))],2)]):e._e()])},o=[]},"585c":function(e,t,i){"use strict";var n=i("4ea4"),s=n(i("9523"));i("ec98");var o=n(i("1c62")),a=n(i("8bbf"));function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}i("0ea9"),a.default.config.productionTip=!1,o.default.mpType="app";var c=new a.default(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){(0,s.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},o.default));c.$mount()},"5e3a":function(e,t,i){"use strict";i.r(t);var n=i("f4f6"),s=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=s.a},"5fbf":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","slider"),style:e._$s(0,"s",e.sliderStyle),attrs:{_i:0}},[i("movable-area",{staticClass:e._$s(1,"sc","movable-area"),style:e._$s(1,"s",e.areaStyle),attrs:{id:"movable_area",_i:1}},[i("view",{staticClass:e._$s(2,"sc","block"),style:e._$s(2,"s",e.blockStyle),attrs:{_i:2}}),i("view",{staticClass:e._$s(3,"sc","active"),style:e._$s(3,"s",e.activeStyle),attrs:{_i:3}}),i("movable-view",{staticClass:e._$s(4,"sc","movable-view"),style:e._$s(4,"s",{width:e.blockSize+"px",height:e.blockSize+"px",background:""+e.blockColor}),attrs:{x:e._$s(4,"a-x",e.x),y:e._$s(4,"a-y",e.y),disabled:e._$s(4,"a-disabled",e.disabled),_i:4},on:{change:e.onChange,touchend:e.touchend}})]),e._$s(5,"i",e.showValue)?i("view",{staticClass:e._$s(5,"sc","val"),attrs:{_i:5}},[e._v(e._$s(5,"t0-0",e._s(e.val)))]):e._e()])},s=[]},"6b2a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"slider",props:{min:{type:Number,default:0},max:{type:Number,default:100},value:{type:Number,default:0},disabled:{type:Boolean,default:!1},blockSize:{type:Number,default:20},lineSize:{type:Number,default:2},vertical:{type:Boolean,default:!1},backgroundColor:{type:String,default:"#e9e9e9"},blockColor:{type:String,default:"#ffffff"},activeColor:{type:String,default:"#2878ff"},showValue:{type:Boolean,default:!1}},computed:{sliderStyle:function(){var e=this.vertical?"height:100%;flex-direction:column;":"width:100%;flex-direction:row;";return e},areaStyle:function(){var e=this.vertical?"width:".concat(this.blockSize,"px;"):"height:".concat(this.blockSize,"px");return e},blockStyle:function(){var e=this.vertical?"top:".concat(this.blockSize/2,"px;bottom:").concat(this.blockSize/2,"px;width:").concat(this.lineSize,"px;left:50%;margin-left:-").concat(this.lineSize/2,"px;background:").concat(this.backgroundColor,";border-radius:").concat(this.lineSize/2,"px;"):"left:".concat(this.blockSize/2,"px;right:").concat(this.blockSize/2,"px;height:").concat(this.lineSize,"px;top:50%;margin-top:-").concat(this.lineSize/2,"px;background:").concat(this.backgroundColor,";border-radius:").concat(this.lineSize/2,"px;");return e},activeStyle:function(){var e=this.vertical?"top:".concat(this.left,";bottom:").concat(this.right,";width:").concat(this.lineSize,"px;left:50%;margin-left:-").concat(this.lineSize/2,"px;background:").concat(this.activeColor,";border-radius:").concat(this.lineSize/2,"px;"):"left:".concat(this.left,";right:").concat(this.right,";height:").concat(this.lineSize,"px;top:50%;margin-top:-").concat(this.lineSize/2,"px;background:").concat(this.activeColor,";border-radius:").concat(this.lineSize/2,"px;");return e}},mounted:function(){this.selectorQuery()},data:function(){return{width:0,left:"".concat(this.blockSize/2,"px"),right:1e6,val:this.value<this.min?this.min:this.value,x:0,y:0}},methods:{selectorQuery:function(){var e=this,t=this,i=uni.createSelectorQuery().in(this);i.select("#movable_area").boundingClientRect((function(i){t.width=t.vertical?i.height:i.width,t.right="".concat(t.width-e.blockSize/2,"px");var n=+((t.val-t.min)/(e.max-e.min)*(t.width-e.blockSize)).toFixed(1);t.x=t.vertical?0:n,t.y=t.vertical?n:0,e.setVal(n)})).exec()},onChange:function(e){var t=this.vertical?e.detail.y:e.detail.x;this.setVal(t)},touchend:function(){this.$emit("change",this.val)},setVal:function(e){var t=+(e/(this.width-this.blockSize)*(this.max-this.min)+this.min).toFixed(0);if(this.right="".concat(this.width-e,"px"),this.val==t)return!1;this.val=t,this.$emit("changing",this.val)}}};t.default=n},7037:function(e,t){function i(t){return e.exports=i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,i(t)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},"8bbf":function(e,t){e.exports=Vue},"8be5":function(e,t,i){"use strict";i.r(t);var n=i("6b2a"),s=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=s.a},"8c42":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={onLaunch:function(){e("log","App Launch"," at App.vue:4")},onShow:function(){e("log","App Show"," at App.vue:7")},onHide:function(){e("log","App Hide"," at App.vue:10")}};t.default=i}).call(this,i("0de9")["default"])},9523:function(e,t,i){var n=i("a395");e.exports=function(e,t,i){return t=n(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},e.exports.__esModule=!0,e.exports["default"]=e.exports},a064:function(e,t,i){"use strict";i.r(t);var n=i("56a9"),s=i("5e3a");for(var o in s)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(o);var a=i("f0c5"),r=Object(a["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=r.exports},a395:function(e,t,i){var n=i("7037")["default"],s=i("e50d");e.exports=function(e){var t=s(e,"string");return"symbol"===n(t)?t:String(t)},e.exports.__esModule=!0,e.exports["default"]=e.exports},e50d:function(e,t,i){var n=i("7037")["default"];e.exports=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!==n(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},ec98:function(e,t,i){if("undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){throw i}))}))}),"undefined"!==typeof uni&&uni&&uni.requireGlobal){var n=uni.requireGlobal();ArrayBuffer=n.ArrayBuffer,Int8Array=n.Int8Array,Uint8Array=n.Uint8Array,Uint8ClampedArray=n.Uint8ClampedArray,Int16Array=n.Int16Array,Uint16Array=n.Uint16Array,Int32Array=n.Int32Array,Uint32Array=n.Uint32Array,Float32Array=n.Float32Array,Float64Array=n.Float64Array,BigInt64Array=n.BigInt64Array,BigUint64Array=n.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/index/index",(function(){return Vue.extend(i("a064").default)}))},f0c5:function(e,t,i){"use strict";function n(e,t,i,n,s,o,a,r,c,u){var d,l="function"===typeof e?e.options:e;if(c){l.components||(l.components={});var h=Object.prototype.hasOwnProperty;for(var f in c)h.call(c,f)&&!h.call(l.components,f)&&(l.components[f]=c[f])}if(u&&("function"===typeof u.beforeCreate&&(u.beforeCreate=[u.beforeCreate]),(u.beforeCreate||(u.beforeCreate=[])).unshift((function(){this[u.__module]=this})),(l.mixins||(l.mixins=[])).push(u)),t&&(l.render=t,l.staticRenderFns=i,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),a?(d=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},l._ssrRegister=d):s&&(d=r?function(){s.call(this,this.$root.$options.shadowRoot)}:s),d)if(l.functional){l._injectStyles=d;var v=l.render;l.render=function(e,t){return d.call(t),v(e,t)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,d):[d]}return{exports:e,options:l}}i.d(t,"a",(function(){return n}))},f4f6:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{slideValue:100,isShowVideo:!0,isShowSlider:!1,timer:"",isComputeOldType:!1,title:"",disabled:[!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],newDeviceLoad:!1,searchLoad:!1,maskShow:!1,equipment:[],adapterState:{discovering:!1,available:!1},connected:!1,victroyConnected:!1,servicesData:[],characteristicsData:[],valueChangeData:{},isStop:!0,list:[],serviceId:"",characteristicsId:"",notify:!1,isOpenBtnLight:!1,isLightBtnLight:!1,isWind1BtnLight:!1,isWind2BtnLight:!1,isWind3BtnLight:!1,isWind4BtnLight:!1}},onLoad:function(){var t=this;this.onBLEConnectionStateChange(),this.openBluetoothAdapter(),e("log","111111"," at pages/index/index.vue:126"),this.isShowVideo=!0,plus.navigator.closeSplashscreen(),setTimeout((function(){e("log","77777"," at pages/index/index.vue:130"),t.isShowVideo=!1;var i=uni.getStorageSync("CurrentConnectDevice");i.length>2&&(t.startBluetoothDevicesDiscovery(),t.maskShow=!0)}),7e3);var i=uni.getSystemInfoSync().platform;"android"==i||setInterval((function(){t.victroyConnected&&_this.writeBluetoothWithId("10")}),1e3)},beforeDestroy:function(){clearInterval(this.timer)},methods:{changing:function(t){if(this.connected){var i=this.equipment[0].deviceId,n=this.serviceId,s=this.characteristicsId,o=224*(100-t)/100,a=o+64;a>255&&(a-=256);var r=new ArrayBuffer(9),c=new DataView(r);c.setUint8(0,170),c.setUint8(1,170),c.setUint8(2,170),c.setUint8(3,170),c.setUint8(4,2),c.setUint8(5,253),c.setUint8(6,64),c.setUint8(7,255&o),c.setUint8(8,255&a),uni.writeBLECharacteristicValue({deviceId:i,serviceId:n,characteristicId:s,value:r,success:function(t){e("log",t," at pages/index/index.vue:218")},fail:function(t){e("error",t," at pages/index/index.vue:221")}})}},moveHandle:function(){},maskclose:function(){this.maskShow=!1},connectBtnAction:function(){this.connected?(this.connected=!1,this.victroyConnected=!1,this.closeBLEConnection()):(this.startBluetoothDevicesDiscovery(),this.maskShow=!0),uni.setStorageSync("CurrentConnectDevice","")},dealReturnData:function(t){var i=t.substr(14,2),n=t.substr(16,2),s=t.substr(18,2);e("log",i," at pages/index/index.vue:250"),e("log",n," at pages/index/index.vue:251"),e("log",s," at pages/index/index.vue:252"),this.isComputeOldType="01"==s,this.isShowSlider="03"==s,"01"!=s&&"02"!=s&&"03"!=s?(this.connected=!1,this.victroyConnected=!1,this.closeBLEConnection()):(this.victroyConnected=!0,uni.setStorageSync("CurrentConnectDevice",this.equipment[0].deviceId));var o=parseInt(i,16).toString(2);o=o.padStart(8,"0"),e("log",o," at pages/index/index.vue:280");var a=o.substr(0,2),r=o.substr(2,4),c=o.substr(6,2);if(this.overOpenBtnBing(),e("log","statusTimer"," at pages/index/index.vue:286"),e("log",a," at pages/index/index.vue:287"),"10"==a?this.isOpenBtnLight=!0:"11"==a?(this.isOpenBtnLight=!0,this.startOpenBtnBing()):this.isOpenBtnLight=!1,"0000"!=r&&this.isOpenBtnLight?"0000"==r?(this.isWind1BtnLight=!1,this.isWind2BtnLight=!1,this.isWind3BtnLight=!1,this.isWind4BtnLight=!1,this.isOpenBtnLight=!1):"0001"==r?(this.isWind1BtnLight=!0,this.isWind2BtnLight=!1,this.isWind3BtnLight=!1,this.isWind4BtnLight=!1):"0010"==r?(this.isWind1BtnLight=!1,this.isWind2BtnLight=!0,this.isWind3BtnLight=!1,this.isWind4BtnLight=!1):"0100"==r?(this.isWind1BtnLight=!1,this.isWind2BtnLight=!1,this.isWind3BtnLight=!0,this.isWind4BtnLight=!1):"1000"==r&&(this.isWind1BtnLight=!1,this.isWind2BtnLight=!1,this.isWind3BtnLight=!1,this.isWind4BtnLight=!0):(this.isWind1BtnLight=!1,this.isWind2BtnLight=!1,this.isWind3BtnLight=!1,this.isWind4BtnLight=!1,this.isOpenBtnLight=!1),"00"==c)this.isLightBtnLight=!1,this.slideValue=100;else if("01"==c){this.isLightBtnLight=!0;var u=parseInt(n,16).toString(10),d=100-100*u/224;this.slideValue=parseInt(d)}e("log","statusLight"," at pages/index/index.vue:347"),e("log",c," at pages/index/index.vue:348"),e("log",this.slideValue," at pages/index/index.vue:349")},startOpenBtnBing:function(){var e=this;this.timer=setInterval((function(){e.isOpenBtnLight?e.isOpenBtnLight=!1:e.isOpenBtnLight=!0}),500)},overOpenBtnBing:function(){clearInterval(this.timer)},queryDevices:function(){this.showMaskType="device",this.maskShow=!0},tapQuery:function(e){this.$set(this.disabled,4,!1),this.equipment.length>0?this.equipment[0]=e:this.equipment.push(e),this.newDeviceLoad=!1,this.maskShow=!1,this.createBLEConnection()},writeBluetoothWithId:function(t){var i=this.equipment[0].deviceId,n=this.serviceId,s=this.characteristicsId,o="10"==t?8:9,a=new ArrayBuffer(o),r=new DataView(a);r.setUint8(0,170),r.setUint8(1,170),r.setUint8(2,170),r.setUint8(3,170),"10"==t?(r.setUint8(4,1),r.setUint8(5,254),r.setUint8(6,16),r.setUint8(7,16)):(r.setUint8(4,2),r.setUint8(5,253),r.setUint8(6,32),"1"==t?(r.setUint8(7,1),r.setUint8(8,33)):"2"==t?(r.setUint8(7,6),r.setUint8(8,38)):"3"==t?(r.setUint8(7,5),r.setUint8(8,37)):"4"==t?(r.setUint8(7,4),r.setUint8(8,36)):"5"==t?(r.setUint8(7,3),r.setUint8(8,35)):"6"==t&&(r.setUint8(7,2),r.setUint8(8,34))),uni.writeBLECharacteristicValue({deviceId:i,serviceId:n,characteristicId:s,value:a,success:function(t){e("log",t," at pages/index/index.vue:444")},fail:function(t){e("error",t," at pages/index/index.vue:447")}})},ab2hex:function(e){var t=Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)}));return t.join("")},openBluetoothAdapter:function(){var t=this;uni.openBluetoothAdapter({success:function(i){e("log","Bluetooth init success:"+i.errMsg," at pages/index/index.vue:468"),e("log",JSON.stringify(i)," at pages/index/index.vue:469"),t.isStop=!1,t.$set(t.disabled,0,!0),t.$set(t.disabled,1,!1),t.$set(t.disabled,10,!1),t.getBluetoothAdapterState()},fail:function(t){e("log",t," at pages/index/index.vue:477"),e("log","Bluetooth init failed with error code:"+(t.errCode||t.errMsg)," at pages/index/index.vue:478"),0!==t.errCode&&n(t.errCode,t.errMsg)}})},startBluetoothDevicesDiscovery:function(){var t=this;uni.startBluetoothDevicesDiscovery({success:function(i){e("log","Start searching for Bluetooth devices:"+i.errMsg," at pages/index/index.vue:491"),t.searchLoad=!0,t.$set(t.disabled,1,!0),t.$set(t.disabled,2,!1),t.$set(t.disabled,3,!1),t.onBluetoothDeviceFound()},fail:function(t){e("log","\u641c\u7d22\u84dd\u7259\u8bbe\u5907\u5931\u8d25\uff0c\u9519\u8bef\u7801:"+t.errCode," at pages/index/index.vue:499"),0!==t.errCode&&n(t.errCode)}})},stopBluetoothDevicesDiscovery:function(t){var i=this;uni.stopBluetoothDevicesDiscovery({success:function(n){e("log","\u505c\u6b62\u641c\u7d22\u84dd\u7259\u8bbe\u5907:"+n.errMsg," at pages/index/index.vue:512"),t?i.$set(i.disabled,1,!0):i.$set(i.disabled,1,!1),i.$set(i.disabled,2,!0),i.searchLoad=!1},fail:function(t){e("log","\u505c\u6b62\u641c\u7d22\u84dd\u7259\u8bbe\u5907\u5931\u8d25\uff0c\u9519\u8bef\u7801\uff1a"+t.errCode," at pages/index/index.vue:523"),0!==t.errCode&&n(t.errCode)}})},onBluetoothDeviceFound:function(){var t=this;uni.onBluetoothDeviceFound((function(i){e("log","\u5f00\u59cb\u76d1\u542c\u5bfb\u627e\u5230\u65b0\u8bbe\u5907\u7684\u4e8b\u4ef6"," at pages/index/index.vue:535"),t.getBluetoothDevices()}))},getBluetoothDevices:function(){var t=this;uni.getBluetoothDevices({success:function(i){t.newDeviceLoad=!1,e("log","\u83b7\u53d6\u84dd\u7259\u8bbe\u5907\u6210\u529f:"+i.errMsg," at pages/index/index.vue:547");var n=t;n.list=[],i.devices.forEach((function(t,i){e("log",t," at pages/index/index.vue:552"),(t.name||t.localName)&&n.list.push(t),t.deviceId==uni.getStorageSync("CurrentConnectDevice")&&n.tapQuery(t)}))},fail:function(t){e("log","\u83b7\u53d6\u84dd\u7259\u8bbe\u5907\u9519\u8bef\uff0c\u9519\u8bef\u7801\uff1a"+t.errCode," at pages/index/index.vue:567"),0!==t.errCode&&n(t.errCode)}})},getBluetoothAdapterState:function(){var t=this;e("log","---\x3e"," at pages/index/index.vue:578"),uni.getBluetoothAdapterState({success:function(i){e("log",JSON.stringify(i)," at pages/index/index.vue:581"),t.adapterState=i},fail:function(t){e("log","\u83b7\u53d6\u672c\u673a\u84dd\u7259\u9002\u914d\u5668\u72b6\u6001\u5931\u8d25\uff0c\u9519\u8bef\u7801\uff1a"+t.errCode," at pages/index/index.vue:585"),0!==t.errCode&&n(t.errCode)}})},createBLEConnection:function(){var t=this,i=this.equipment[0].deviceId,o=this;uni.createBLEConnection({deviceId:i,success:function(i){e("log",i," at pages/index/index.vue:607"),e("log","\u8fde\u63a5\u84dd\u7259\u6210\u529f:"+i.errMsg," at pages/index/index.vue:608"),t.stopBluetoothDevicesDiscovery(!0),uni.hideToast(),setTimeout((function(){o.victroyConnected||(s("Error device"),o.connected&&(o.connected=!1,o.victroyConnected=!1,o.closeBLEConnection()))}),3e3),o.getBLEDeviceServices();var n=uni.getSystemInfoSync().platform;"android"==n?setTimeout((function(){o.getBLEDeviceServices()}),1e3):o.getBLEDeviceServices()},fail:function(t){e("log","\u8fde\u63a5\u4f4e\u529f\u8017\u84dd\u7259\u5931\u8d25\uff0c\u9519\u8bef\u7801\uff1a"+t.errCode," at pages/index/index.vue:636"),0!==t.errCode&&n(t.errCode)}})},closeBLEConnection:function(){var t=this,i=this.equipment[0].deviceId;uni.closeBLEConnection({deviceId:i,success:function(i){e("log",i," at pages/index/index.vue:652"),e("log","\u65ad\u5f00\u4f4e\u529f\u8017\u84dd\u7259\u6210\u529f:"+i.errMsg," at pages/index/index.vue:653"),t.$set(t.disabled,1,!1),t.$set(t.disabled,3,!0),t.$set(t.disabled,4,!0),t.$set(t.disabled,5,!0),t.$set(t.disabled,6,!0),t.$set(t.disabled,7,!0),t.$set(t.disabled,8,!0),t.$set(t.disabled,9,!0),t.equipment=[],t.servicesData=[],t.characteristicsData=[],t.serviceId="",t.characteristicsId="",s("Connection closed"),t.openBluetoothAdapter()},fail:function(i){e("log","\u65ad\u5f00\u4f4e\u529f\u8017\u84dd\u7259\u6210\u529f\uff0c\u9519\u8bef\u7801\uff1a"+i.errCode," at pages/index/index.vue:671"),0!==i.errCode&&n(i.errCode),t.openBluetoothAdapter()}})},getBLEDeviceServices:function(){var t=this,i=this.equipment[0].deviceId;e("log","\u83b7\u53d6\u6240\u6709\u670d\u52a1\u7684 uuid:"+i," at pages/index/index.vue:684");var s=this;uni.getBLEDeviceServices({deviceId:i,success:function(i){e("log",JSON.stringify(i.services)," at pages/index/index.vue:690"),e("log","\u83b7\u53d6\u8bbe\u5907\u670d\u52a1\u6210\u529f:"+i.errMsg," at pages/index/index.vue:691"),t.$set(t.disabled,7,!0),t.$set(t.disabled,8,!0),i.services.forEach((function(t,i){e("log",t," at pages/index/index.vue:697"),t.uuid.includes("FFE0")&&(e("log",s.serviceId," at pages/index/index.vue:699"),e("log",t.uuid," at pages/index/index.vue:700"),s.serviceId=t.uuid,setTimeout((function(){s.getBLEDeviceCharacteristics()}),300))})),t.characteristicsData=[]},fail:function(t){e("log","\u83b7\u53d6\u8bbe\u5907\u670d\u52a1\u5931\u8d25\uff0c\u9519\u8bef\u7801\uff1a"+t.errCode," at pages/index/index.vue:712"),0!==t.errCode&&n(t.errCode)}})},getBLEDeviceCharacteristics:function(){var t=this,i=this.equipment[0].deviceId,s=this.serviceId;e("log","asdasdasd"," at pages/index/index.vue:725"),e("log",i," at pages/index/index.vue:726"),e("log",s," at pages/index/index.vue:727");var o=this;uni.getBLEDeviceCharacteristics({deviceId:i,serviceId:s,success:function(i){e("log",JSON.stringify(i)," at pages/index/index.vue:735"),e("log","\u83b7\u53d6\u7279\u5f81\u503c\u6210\u529f:"+i.errMsg," at pages/index/index.vue:736"),t.$set(t.disabled,7,!0),i.characteristics.forEach((function(t,i){e("log",t," at pages/index/index.vue:740"),t.uuid.includes("FFE1")&&(e("log","\u83b7\u53d6\u7279\u5f81\u503c\u6210\u529f:"+t," at pages/index/index.vue:742"),o.characteristicsId=t.uuid,e("log","\u83b7\u53d6\u7279\u5f81\u503c\u6210\u529f:"+t.properties.notify," at pages/index/index.vue:744"),o.notify=t.properties.notify,o.readBLECharacteristicValue())}))},fail:function(t){e("log","\u83b7\u53d6\u7279\u5f81\u503c\u5931\u8d25\uff0c\u9519\u8bef\u7801\uff1a"+t.errCode," at pages/index/index.vue:755"),0!==t.errCode&&n(t.errCode)}})},onBLEConnectionStateChange:function(){var t=this;uni.onBLEConnectionStateChange((function(i){if(e("log","\u84dd\u7259\u8fde\u63a5\u72b6\u6001 --------------------------\x3e"," at pages/index/index.vue:768"),e("log",JSON.stringify(i)," at pages/index/index.vue:769"),!i.connected){if(t.isStop)return t.connected=!1,t.victroyConnected=!1,void t.closeBLEConnection();e("log","\u65ad\u5f00\u4f4e\u529f\u8017\u84dd\u7259\u6210\u529f:"," at pages/index/index.vue:778"),t.$set(t.disabled,1,!1),t.$set(t.disabled,3,!0),t.$set(t.disabled,4,!0),t.$set(t.disabled,5,!0),t.$set(t.disabled,6,!0),t.$set(t.disabled,7,!0),t.$set(t.disabled,8,!0),t.$set(t.disabled,9,!0),t.searchLoad=!1,t.equipment=[],t.servicesData=[],t.characteristicsData=[],t.valueChangeData={},t.connected=!1,t.victroyConnected=!1,s("Bluetooth connection disconnected")}}))},readBLECharacteristicValue:function(){var t=this.equipment[0].deviceId,i=this.serviceId,s=this.characteristicsId;e("log","\u54c8\u54c8\u54c8"," at pages/index/index.vue:807"),e("log",t," at pages/index/index.vue:808"),e("log",i," at pages/index/index.vue:809"),e("log",s," at pages/index/index.vue:810"),e("log","\u54c8\u54c8\u54c8"," at pages/index/index.vue:811");var o=this;this.connected=!0,uni.readBLECharacteristicValue({deviceId:t,serviceId:i,characteristicId:s,success:function(t){e("log","\u8bfb\u53d6\u8bbe\u5907\u6570\u636e\u503c\u6210\u529f"," at pages/index/index.vue:822"),e("log",JSON.stringify(t)," at pages/index/index.vue:823"),o.notifyBLECharacteristicValueChange();var i=uni.getSystemInfoSync().platform;"android"==i?setTimeout((function(){o.writeBluetoothWithId("10")}),300):o.writeBluetoothWithId("10")},fail:function(t){e("log","\u8bfb\u53d6\u8bbe\u5907\u6570\u636e\u503c\u5931\u8d25\uff0c\u9519\u8bef\u7801\uff1a"+t.errCode," at pages/index/index.vue:838"),0!==t.errCode&&n(t.errCode)}})},onBLECharacteristicValueChange:function(){var t=this;uni.onBLECharacteristicValueChange((function(i){e("log","\u76d1\u542c\u4f4e\u529f\u8017\u84dd\u7259\u8bbe\u5907\u7684\u7279\u5f81\u503c\u53d8\u5316\u4e8b\u4ef6\u6210\u529f"," at pages/index/index.vue:852"),e("log",JSON.stringify(i)," at pages/index/index.vue:853"),t.valueChangeData=i}))},notifyBLECharacteristicValueChange:function(){var t=this.equipment[0].deviceId,i=this.serviceId,n=this.characteristicsId,s=this.notify;e("log",t," at pages/index/index.vue:865"),e("log",i," at pages/index/index.vue:866"),e("log",n," at pages/index/index.vue:867"),e("log",s," at pages/index/index.vue:868");var o=this;uni.notifyBLECharacteristicValueChange({state:!0,deviceId:t,serviceId:i,characteristicId:n,success:function(t){e("log","notifyBLECharacteristicValueChange success:"+t.errMsg," at pages/index/index.vue:879"),e("log",JSON.stringify(t)," at pages/index/index.vue:880"),uni.onBLECharacteristicValueChange((function(t){var i=o.ab2hex(t.value);e("log","\u84dd\u7259\u8fd4\u56de\u6570\u636e\u4e3a\uff1a"+i," at pages/index/index.vue:884"),o.dealReturnData(i)}))}})},closeBluetoothAdapter:function(t){var i=this;uni.closeBluetoothAdapter({success:function(t){e("log","\u65ad\u5f00\u84dd\u7259\u6a21\u5757\u6210\u529f"," at pages/index/index.vue:896"),i.isStop=!0,i.$set(i.disabled,0,!1),i.$set(i.disabled,1,!0),i.$set(i.disabled,2,!0),i.$set(i.disabled,3,!0),i.$set(i.disabled,4,!0),i.$set(i.disabled,5,!0),i.$set(i.disabled,6,!0),i.$set(i.disabled,7,!0),i.$set(i.disabled,8,!0),i.$set(i.disabled,9,!0),i.$set(i.disabled,10,!0),i.equipment=[],i.servicesData=[],i.characteristicsData=[],i.valueChangeData={},i.adapterState=[],i.searchLoad=!1,s("Disconnect Bluetooth")}})}}};function n(e,t){switch(e){case 1e4:s("Uninitialized Bluetooth adapter");break;case 10001:s("Bluetooth not detected, please turn on Bluetooth and try again!");break;case 10002:s("No specified device found");break;case 10003:s("Connect failed");break;case 10004:s("No specified service found");break;case 10005:s("No specified feature found");break;case 10006:s("Connection has been disconnected");break;case 10007:s("The current feature does not support this operation");break;case 10008:s("All exceptions reported by other systems");break;case 10009:s("Unique to Android system, system version below 4.3 does not support BLE");break;default:break}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];uni.showModal({title:"Prompt",confirmText:"Confirm",content:e,showCancel:t})}t.default=i}).call(this,i("0de9")["default"])}},[["585c","app-config"]]]);